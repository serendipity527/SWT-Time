# 使用 Linux 命令下载 Time-LLM 数据集

## 方法 1：使用 gdown（推荐，最简单）

### 安装 gdown
```bash
pip install gdown
```

### 下载数据集
```bash
# 进入项目目录
cd /home/dmx_MT/LZF/project/Time-LLM

# 下载数据集（Google Drive 文件ID）
gdown 1NF7VEefXCmXuWNbnNe858WvQAkJ_7wuP

# 解压
unzip 1NF7VEefXCmXuWNbnNe858WvQAkJ_7wuP -d dataset/

# 如果是 tar.gz 格式
# tar -xzvf 文件名.tar.gz -C dataset/
```

---

## 方法 2：使用 wget（如果 gdown 不可用）

```bash
cd /home/dmx_MT/LZF/project/Time-LLM

# 下载（需要替换为直接下载链接）
wget --no-check-certificate 'https://drive.google.com/uc?export=download&id=1NF7VEefXCmXuWNbnNe858WvQAkJ_7wuP' -O dataset.zip

# 解压
unzip dataset.zip -d dataset/
```

---

## 方法 3：使用 curl

```bash
cd /home/dmx_MT/LZF/project/Time-LLM

# 下载
curl -L 'https://drive.google.com/uc?export=download&id=1NF7VEefXCmXuWNbnNe858WvQAkJ_7wuP' -o dataset.zip

# 解压
unzip dataset.zip -d dataset/
```

---

## 方法 4：使用 rclone（适合大文件）

### 配置 rclone
```bash
# 安装 rclone
curl https://rclone.org/install.sh | sudo bash

# 配置 Google Drive
rclone config
# 按提示配置，选择 Google Drive
```

### 下载
```bash
rclone copy gdrive:文件路径 /home/dmx_MT/LZF/project/Time-LLM/dataset/
```

---

## 完整下载和解压流程（推荐）

```bash
# 1. 激活环境
conda activate timellm

# 2. 安装 gdown
pip install gdown

# 3. 进入项目目录
cd /home/dmx_MT/LZF/project/Time-LLM

# 4. 创建 dataset 目录（如果不存在）
mkdir -p dataset

# 5. 下载数据集
gdown 1NF7VEefXCmXuWNbnNe858WvQAkJ_7wuP

# 6. 查看下载的文件
ls -lh

# 7. 解压（根据文件格式选择）
# 如果是 .zip
unzip *.zip -d dataset/

# 如果是 .tar.gz
# tar -xzvf *.tar.gz -C dataset/

# 8. 验证数据集结构
ls -R dataset/

# 9. 清理压缩包（可选）
rm *.zip  # 或 rm *.tar.gz
```

---

## 如果 Google Drive 下载失败

### 使用备用源（如果项目提供）

检查 GitHub Issues 或 README 是否有备用下载链接：
```bash
# 示例：从其他镜像下载
wget https://备用链接/dataset.zip
```

### 手动下载后上传到服务器

1. **本地下载**：在浏览器中下载数据集
2. **上传到服务器**：
   ```bash
   # 在本地机器执行
   scp dataset.zip 用户名@服务器IP:/home/dmx_MT/LZF/project/Time-LLM/
   ```
3. **在服务器解压**：
   ```bash
   cd /home/dmx_MT/LZF/project/Time-LLM
   unzip dataset.zip -d dataset/
   ```

---

## 验证数据集下载成功

```bash
# 检查目录结构
tree dataset/ -L 2

# 或使用 ls
ls -R dataset/

# 检查 ETT 数据集
ls dataset/ETT-small/
# 应该看到：ETTh1.csv, ETTh2.csv, ETTm1.csv, ETTm2.csv

# 查看文件大小
du -sh dataset/*
```

**预期输出**：
```
dataset/ETT-small/
dataset/weather/
dataset/traffic/
dataset/electricity/
...
```

---

## 常见问题处理

### 问题 1：gdown 下载大文件提示需要确认
```bash
# 使用 --fuzzy 参数
gdown --fuzzy 'https://drive.google.com/file/d/1NF7VEefXCmXuWNbnNe858WvQAkJ_7wuP/view'

# 或使用 --id 参数
gdown --id 1NF7VEefXCmXuWNbnNe858WvQAkJ_7wuP
```

### 问题 2：解压时提示空间不足
```bash
# 检查磁盘空间
df -h

# 清理不必要的文件
conda clean --all
```

### 问题 3：网络连接问题
```bash
# 使用代理（如果有）
export http_proxy=http://代理地址:端口
export https_proxy=http://代理地址:端口

# 然后再下载
gdown 1NF7VEefXCmXuWNbnNe858WvQAkJ_7wuP
```

---

## 快速一键脚本

创建下载脚本 `download_dataset.sh`：

```bash
#!/bin/bash

echo "开始下载 Time-LLM 数据集..."

# 安装 gdown
pip install gdown -q

# 创建目录
mkdir -p dataset

# 下载
gdown 1NF7VEefXCmXuWNbnNe858WvQAkJ_7wuP

# 解压
echo "解压数据集..."
unzip -q *.zip -d dataset/

# 清理
rm *.zip

echo "数据集下载完成！"
ls -R dataset/
```

**使用方法**：
```bash
chmod +x download_dataset.sh
./download_dataset.sh
```

---

**推荐**：先尝试 `gdown` 方法，这是最简单可靠的方式！